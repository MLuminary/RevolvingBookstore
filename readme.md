# 旋转书苑众筹页面

这个页面说实话写了四五天，bug多如牛毛，再次将这个项目的一些耗时点整理一下。

## 字体自适应

我一开始想法是根据高度来确定根字体的大小，然后在宽度缩小的情况下出了很多问题。

```js
$('html').css('font-size', $('body').width() * fontSize / bodyWidth + '%')
  $(window).resize(function () {
    $('html').css('font-size', $('body').width() * fontSize / bodyWidth  + '%')
  })
```

这样的写的话，页面中的元素用``rem``就会跟随浏览器宽度自适应变化。

## video

我设置的``video``是全屏，然后添加一个差号``z-index``高于它，显示在它的上方控制它的出现和隐藏。但是qq浏览器还有一些浏览器中，``video``是全屏的话在他的z轴上方无法出现任何东西，这就导致我的差号根本无法出现，也就控制不了他的出现和隐藏，然后没办法我就将``video``缩小，在上面留了一块位置，然后用``div``拼接在上面并在里面添加一个差号用来控制。但是效果不怎么好，在qq浏览器中上下拖动中间有时会出现缝隙，因为项目赶时间，目前也没怎么解决。等以后有时间再查查。


## 判断手机端还是Pc端

这个错误比较搞笑，我一开始把这个判断引入在通用的js文件中，然后如果是pc就跳转到pc端，如果是移动端就跳转到移动端。但是这样的话页面就一直在载入，一直在刷新。

后来想通了，我觉得应该是这样：现在我用电脑打开这个页面，然后js就会判断，发现是Pc端就跳入pc端的网页但是跳进去页面又相当于重新载入，js又会判断并跳转。

因此这段js代码不能放在通用js中，只在pc端页面的js中放跳转到移动端的就可以了。

